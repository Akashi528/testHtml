<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>动物人格测评</title>
  <link rel="stylesheet" href="app.css">
</head>
<body>
  <div id="app" class="wrap">
    <header class="header">
      <h1>动物人格测评</h1>
      <p class="subtitle">选择简易版（10题）或完整版（50题），每页一道题，结束后查看你最像的动物与四维评分图。</p>
    </header>

    <main class="card">
      <section v-if="view==='home'" class="home">
        <div class="hero">
          <h2>开始测评</h2>
          <p>选择你想要的测评版本：</p>
          <div class="choices">
            <button @click="start('simple')" class="btn primary">简易版 · 10题</button>
            <button @click="start('full')" class="btn">完整版 · 50题</button>
          </div>
        </div>
        <div class="info-grid">
          <div><strong>动物名单：</strong>猫、狗、鼠、虎、狼、兔子、蛇、卡皮巴拉、考拉、树懒</div>
          <div><strong>题目形式：</strong>陈述句，1（非常不同意）–5（非常同意）</div>
        </div>
      </section>

      <section v-if="view==='quiz'" class="quiz">
        <div class="progress">第 {{current+1}} / {{questions.length}} 题</div>
        <div class="question-card">
          <div class="qnum">题目 {{current+1}}</div>
          <div class="qtext">{{ questions[current].text }}</div>

          <div class="answers">
            <label v-for="n in [1,2,3,4,5]" :key="n" :class="['choice', answers[current]===n? 'selected':'']">
              <input type="radio" :name="'q'+current" :value="n" v-model.number="answers[current]" />
              <span class="scale">{{ n }}</span>
              <small class="scale-desc">{{ scaleLabels[n] }}</small>
            </label>
          </div>

          <div class="nav">
            <button @click="prev" class="btn" :disabled="current===0">上一步</button>
            <button @click="next" class="btn primary" :disabled="!answers[current]">{{ current+1===questions.length ? '提交' : '下一题' }}</button>
          </div>
        </div>
      </section>

      <section v-if="view==='result'" class="result">
        <div class="result-top">
          <div class="result-card">
            <h2>你的动物类型：{{ result.animal }}</h2>
            <p class="animal-desc">{{ result.desc }}</p>
            <div class="score-list">
              <div v-for="(v,k) in dims" :key="k" class="score-item">
                <strong>{{ k }}:</strong> {{ Math.round(v) }}
              </div>
            </div>
          </div>
          <div class="chart-card">
            <canvas id="radarChart"></canvas>
          </div>
        </div>
        <div class="result-actions">
          <button class="btn" @click="restart">重新测评</button>
          <button class="btn" @click="view='home'">回到首页</button>
        </div>
      </section>
    </main>

    <footer class="footer">© 动物人格小测 · 设计精美 · 单页 Vue（CDN）实现</footer>
  </div>

  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js"></script>
</body>
</html>
